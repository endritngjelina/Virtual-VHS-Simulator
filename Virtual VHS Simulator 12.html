<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RetroVision VHS Simulator Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Share+Tech+Mono:wght@400&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: 
                radial-gradient(circle at 20% 50%, rgba(255, 107, 53, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 65, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at center, #2a2a2a 0%, #1a1a1a 70%, #0a0a0a 100%);
            font-family: 'Share Tech Mono', monospace;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4" viewBox="0 0 4 4"><path fill="%23333" fill-opacity="0.4" d="m0,0h1v1H0V0Zm2,2h1v1H2V2Z"/></svg>');
            pointer-events: none;
            z-index: 1;
        }

        /* Scan Lines Effect */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(255, 255, 255, 0.03) 2px,
                rgba(255, 255, 255, 0.03) 4px
            );
            pointer-events: none;
            z-index: 1000;
            animation: flicker 0.15s infinite linear alternate, scanlineMove 8s infinite linear;
        }

        @keyframes flicker {
            0% { opacity: 1; }
            100% { opacity: 0.98; }
        }

        @keyframes scanlineMove {
            0% { transform: translateY(0); }
            100% { transform: translateY(4px); }
        }

        /* Main Container */
        .vhs-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 10;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
            padding: 20px;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff6b35, transparent);
            animation: headerGlow 3s ease-in-out infinite alternate;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 1px;
            background: linear-gradient(90deg, transparent, #00ff41, transparent);
            animation: headerGlow 3s ease-in-out infinite alternate-reverse;
        }

        @keyframes headerGlow {
            0% { opacity: 0.3; transform: translateX(-50%) scaleX(0.8); }
            100% { opacity: 1; transform: translateX(-50%) scaleX(1); }
        }

        .title {
            font-family: 'Orbitron', monospace;
            font-size: 3.5rem;
            font-weight: 900;
            color: #ff6b35;
            text-shadow: 
                0 0 10px #ff6b35,
                0 0 20px #ff6b35,
                0 0 30px #ff6b35,
                2px 2px 0px #333,
                0 0 60px rgba(255, 107, 53, 0.4);
            margin-bottom: 10px;
            letter-spacing: 3px;
            animation: glow 2s ease-in-out infinite alternate, titleFloat 6s ease-in-out infinite;
            position: relative;
            z-index: 10;
        }

        @keyframes titleFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        @keyframes glow {
            from { 
                text-shadow: 
                    0 0 10px #ff6b35, 
                    0 0 20px #ff6b35, 
                    0 0 30px #ff6b35, 
                    2px 2px 0px #333,
                    0 0 60px rgba(255, 107, 53, 0.4);
            }
            to { 
                text-shadow: 
                    0 0 20px #ff6b35, 
                    0 0 30px #ff6b35, 
                    0 0 40px #ff6b35, 
                    2px 2px 0px #333,
                    0 0 80px rgba(255, 107, 53, 0.6);
            }
        }

        .subtitle {
            color: #00ff41;
            font-size: 1.2rem;
            text-shadow: 0 0 10px #00ff41;
            letter-spacing: 2px;
        }

        /* Status Bar */
        .status-bar {
            background: 
                linear-gradient(135deg, #333 0%, #666 50%, #333 100%),
                linear-gradient(0deg, rgba(255, 107, 53, 0.1), transparent);
            border: 2px solid #ff6b35;
            border-radius: 12px;
            padding: 18px 25px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 
                inset 0 0 20px rgba(255, 107, 53, 0.3),
                0 4px 15px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(255, 107, 53, 0.2);
            position: relative;
            backdrop-filter: blur(5px);
        }

        .status-bar::before {
            content: '';
            position: absolute;
            top: -1px;
            left: -1px;
            right: -1px;
            bottom: -1px;
            background: linear-gradient(45deg, #ff6b35, #00ff41, #ff6b35);
            border-radius: 12px;
            z-index: -1;
            opacity: 0.3;
            animation: borderPulse 3s ease-in-out infinite;
        }

        @keyframes borderPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #00ff41;
            font-weight: bold;
            text-shadow: 0 0 8px rgba(0, 255, 65, 0.6);
            transition: all 0.3s ease;
        }

        .status-item:hover {
            transform: scale(1.05);
            text-shadow: 0 0 12px rgba(0, 255, 65, 0.8);
        }

        .led {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: #00ff41;
            box-shadow: 
                0 0 10px #00ff41,
                inset 0 0 6px rgba(255, 255, 255, 0.3),
                0 0 20px rgba(0, 255, 65, 0.4);
            animation: pulse 1.5s infinite, ledShine 4s ease-in-out infinite;
            position: relative;
        }

        .led::before {
            content: '';
            position: absolute;
            top: 2px;
            left: 3px;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: ledReflection 2s ease-in-out infinite;
        }

        .led.red { 
            background: #ff4444; 
            box-shadow: 
                0 0 10px #ff4444,
                inset 0 0 6px rgba(255, 255, 255, 0.3),
                0 0 20px rgba(255, 68, 68, 0.4);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(0.95); }
        }

        @keyframes ledShine {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.2); }
        }

        @keyframes ledReflection {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.4; }
        }

        /* Video Section */
        .video-section {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
            margin-bottom: 40px;
        }

        .video-container {
            position: relative;
            background: #000;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 
                0 0 40px rgba(255, 107, 53, 0.6),
                inset 0 0 60px rgba(0, 0, 0, 0.9),
                0 8px 32px rgba(0, 0, 0, 0.7);
            border: 4px solid transparent;
            background-clip: padding-box;
            position: relative;
        }

        .video-container::before {
            content: '';
            position: absolute;
            top: -4px;
            left: -4px;
            right: -4px;
            bottom: -4px;
            background: linear-gradient(45deg, #ff6b35, #00ff41, #4499ff, #ff6b35);
            border-radius: 24px;
            z-index: -1;
            animation: rotateBorder 8s linear infinite;
        }

        @keyframes rotateBorder {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .video-screen {
            width: 100%;
            height: 400px;
            background: 
                radial-gradient(circle at 30% 20%, rgba(255, 107, 53, 0.1) 0%, transparent 50%),
                linear-gradient(45deg, #001122 0%, #002244 50%, #001122 100%);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .video-noise {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><defs><filter id="noiseFilter"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/></filter></defs><rect width="100%" height="100%" filter="url(%23noiseFilter)" opacity="0.1"/></svg>');
            animation: noise 0.2s infinite;
            opacity: 0.3;
        }

        @keyframes noise {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-1px, -1px); }
            20% { transform: translate(-2px, 0px); }
            30% { transform: translate(1px, -1px); }
            40% { transform: translate(1px, 1px); }
            50% { transform: translate(-1px, 2px); }
            60% { transform: translate(-2px, 1px); }
            70% { transform: translate(2px, 1px); }
            80% { transform: translate(-1px, -1px); }
            90% { transform: translate(1px, 2px); }
        }

        .video-content {
            position: relative;
            z-index: 5;
            color: #00ff41;
            text-align: center;
            font-size: 1.5rem;
            text-shadow: 0 0 10px #00ff41;
        }

        .glitch-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 98px,
                rgba(255, 0, 0, 0.1) 100px,
                rgba(0, 255, 0, 0.1) 101px,
                rgba(0, 0, 255, 0.1) 102px,
                transparent 104px
            );
            opacity: 0;
            transition: opacity 0.3s;
        }

        /* Controls Panel */
        .controls-panel {
            background: 
                linear-gradient(135deg, #2a2a2a 0%, #1a1a1a 50%, #0a0a0a 100%),
                radial-gradient(circle at 30% 30%, rgba(0, 255, 65, 0.05), transparent);
            border: 2px solid #00ff41;
            border-radius: 18px;
            padding: 25px;
            box-shadow: 
                inset 0 0 25px rgba(0, 255, 65, 0.2),
                0 8px 32px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 255, 65, 0.1);
            backdrop-filter: blur(8px);
            position: relative;
        }

        .controls-panel::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.3), transparent);
        }

        /* Enhanced controls section styling */
        .controls-section {
            margin-bottom: 30px;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .controls-section:hover {
            background: rgba(255, 255, 255, 0.03);
            border-color: rgba(0, 255, 65, 0.2);
            box-shadow: 0 0 15px rgba(0, 255, 65, 0.1);
        }

        .controls-title {
            color: #ff6b35;
            font-weight: bold;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid #ff6b35;
            padding-bottom: 8px;
            text-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
            position: relative;
        }

        .controls-title::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #00ff41, #4499ff);
            animation: titleUnderline 2s ease-in-out infinite alternate;
        }

        @keyframes titleUnderline {
            0% { width: 0%; }
            100% { width: 30%; }
        }

        /* Transport Controls */
        .transport-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .control-btn {
            background: linear-gradient(135deg, #444 0%, #666 50%, #444 100%);
            border: 2px solid #00ff41;
            border-radius: 10px;
            color: #00ff41;
            padding: 15px 12px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-family: 'Share Tech Mono', monospace;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
            text-shadow: 0 0 8px rgba(0, 255, 65, 0.6);
        }

        .control-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.2), transparent);
            transition: left 0.5s;
        }

        .control-btn:hover::before {
            left: 100%;
        }

        .control-btn:hover {
            background: linear-gradient(135deg, #555 0%, #777 50%, #555 100%);
            box-shadow: 
                0 0 20px rgba(0, 255, 65, 0.6),
                inset 0 0 20px rgba(0, 255, 65, 0.1);
            transform: translateY(-3px) scale(1.02);
            border-color: rgba(0, 255, 65, 0.8);
        }

        .control-btn:active {
            transform: translateY(-1px) scale(0.98);
            box-shadow: 
                inset 0 0 15px rgba(0, 255, 65, 0.4),
                0 0 15px rgba(0, 255, 65, 0.4);
        }

        .control-btn.active {
            background: linear-gradient(135deg, #ff6b35 0%, #ff8c35 50%, #ff6b35 100%);
            border-color: #ff6b35;
            color: #fff;
            box-shadow: 
                0 0 25px rgba(255, 107, 53, 0.8),
                inset 0 0 15px rgba(255, 255, 255, 0.2);
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        /* Enhanced slider group styling */
        .slider-group {
            margin-bottom: 18px;
            padding: 10px;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .slider-group:hover {
            background: rgba(0, 0, 0, 0.3);
            box-shadow: inset 0 0 15px rgba(0, 255, 65, 0.1);
        }

        .slider-label {
            display: block;
            color: #00ff41;
            margin-bottom: 8px;
            font-size: 0.9rem;
            text-shadow: 0 0 5px rgba(0, 255, 65, 0.4);
            transition: all 0.3s ease;
        }

        .slider-group:hover .slider-label {
            color: #4fff65;
            text-shadow: 0 0 8px rgba(0, 255, 65, 0.6);
        }

        .slider {
            width: 100%;
            height: 8px;
            background: linear-gradient(90deg, #222, #444, #222);
            border-radius: 4px;
            outline: none;
            -webkit-appearance: none;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.5);
            transition: all 0.3s ease;
        }

        .slider:hover {
            box-shadow: 
                inset 0 2px 4px rgba(0, 0, 0, 0.5),
                0 0 10px rgba(0, 255, 65, 0.3);
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            background: linear-gradient(135deg, #ff6b35, #ff8c35);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 
                0 0 15px rgba(255, 107, 53, 0.8),
                inset 0 0 8px rgba(255, 255, 255, 0.2),
                0 2px 6px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
        }

        .slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 
                0 0 20px rgba(255, 107, 53, 1),
                inset 0 0 10px rgba(255, 255, 255, 0.3),
                0 4px 8px rgba(0, 0, 0, 0.5);
        }

        .slider::-moz-range-thumb {
            width: 22px;
            height: 22px;
            background: linear-gradient(135deg, #ff6b35, #ff8c35);
            border-radius: 50%;
            cursor: pointer;
            border: none;
            box-shadow: 
                0 0 15px rgba(255, 107, 53, 0.8),
                inset 0 0 8px rgba(255, 255, 255, 0.2);
        }

        /* Channel Display */
        .channel-display {
            background: 
                linear-gradient(135deg, #000 0%, #111 50%, #000 100%),
                radial-gradient(circle at center, rgba(0, 255, 65, 0.1), transparent);
            border: 3px solid #00ff41;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            color: #00ff41;
            font-size: 1.8rem;
            font-weight: bold;
            text-shadow: 
                0 0 15px #00ff41,
                0 0 30px rgba(0, 255, 65, 0.5);
            margin: 12px 0;
            position: relative;
            overflow: hidden;
            font-family: 'Orbitron', monospace;
        }

        .channel-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.1), transparent);
            animation: channelScan 3s linear infinite;
        }

        @keyframes channelScan {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Effects Section */
        .effects-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        /* Effect buttons with enhanced styling */
        .effect-btn {
            background: 
                linear-gradient(135deg, #333 0%, #555 50%, #333 100%),
                radial-gradient(circle at center, rgba(255, 255, 255, 0.05), transparent);
            border: 2px solid #666;
            border-radius: 8px;
            color: #ccc;
            padding: 12px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            font-size: 0.8rem;
            text-transform: uppercase;
            font-weight: bold;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(3px);
        }

        .effect-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 65, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .effect-btn:hover::before {
            left: 100%;
        }

        .effect-btn:hover {
            border-color: #00ff41;
            color: #00ff41;
            box-shadow: 
                0 0 15px rgba(0, 255, 65, 0.4),
                inset 0 0 15px rgba(0, 255, 65, 0.05);
            transform: translateY(-2px);
            text-shadow: 0 0 8px rgba(0, 255, 65, 0.6);
        }

        .effect-btn.active {
            background: 
                linear-gradient(135deg, #00ff41 0%, #00cc33 50%, #00ff41 100%),
                radial-gradient(circle at center, rgba(255, 255, 255, 0.1), transparent);
            color: #000;
            border-color: #00ff41;
            box-shadow: 
                0 0 20px rgba(0, 255, 65, 0.8),
                inset 0 0 10px rgba(0, 0, 0, 0.2);
            text-shadow: none;
            font-weight: 900;
        }

        /* Timeline */
        .timeline {
            background: 
                linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 50%, #1a1a1a 100%),
                radial-gradient(ellipse at center, rgba(255, 107, 53, 0.05), transparent);
            border: 3px solid transparent;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            position: relative;
            backdrop-filter: blur(5px);
        }

        .timeline::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, #ff6b35, transparent, #00ff41, transparent, #ff6b35);
            border-radius: 15px;
            z-index: -1;
            animation: timelineBorder 4s linear infinite;
        }

        @keyframes timelineBorder {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        .timeline-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #00ff41;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: 
                linear-gradient(90deg, #222, #333, #222),
                radial-gradient(ellipse at center, rgba(255, 107, 53, 0.1), transparent);
            border-radius: 6px;
            overflow: hidden;
            position: relative;
            box-shadow: 
                inset 0 2px 6px rgba(0, 0, 0, 0.7),
                0 0 15px rgba(255, 107, 53, 0.2);
            border: 1px solid rgba(255, 107, 53, 0.3);
            cursor: pointer;
        }

        .progress-fill {
            height: 100%;
            background: 
                linear-gradient(90deg, #ff6b35 0%, #ff8c35 50%, #ffaa55 100%),
                linear-gradient(0deg, rgba(255, 255, 255, 0.1), transparent);
            width: 0%;
            transition: width 0.1s linear;
            position: relative;
            box-shadow: 
                0 0 15px rgba(255, 107, 53, 0.6),
                inset 0 1px 3px rgba(255, 255, 255, 0.3);
            animation: progressGlow 2s ease-in-out infinite alternate;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 6px;
            height: 100%;
            background: 
                linear-gradient(0deg, #fff, rgba(255, 255, 255, 0.5));
            box-shadow: 
                0 0 12px rgba(255, 255, 255, 0.8),
                0 0 6px rgba(255, 255, 255, 0.4);
            animation: playheadPulse 1s ease-in-out infinite alternate;
        }

        @keyframes progressGlow {
            0% { filter: brightness(1) saturate(1); }
            100% { filter: brightness(1.1) saturate(1.2); }
        }

        @keyframes playheadPulse {
            0% { opacity: 0.8; transform: scaleY(1); }
            100% { opacity: 1; transform: scaleY(1.1); }
        }

        /* Enhanced footer styling */
        .footer {
            text-align: center;
            color: #666;
            margin-top: 50px;
            padding: 30px 20px;
            border-top: 2px solid transparent;
            background: 
                linear-gradient(90deg, #333, transparent, #333),
                linear-gradient(135deg, rgba(255, 107, 53, 0.05), transparent, rgba(0, 255, 65, 0.05));
            position: relative;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #ff6b35, #00ff41, #ff6b35, transparent);
            animation: footerGlow 4s ease-in-out infinite;
        }

        @keyframes footerGlow {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        /* Enhanced noise animation */
        @keyframes noise {
            0%, 100% { transform: translate(0, 0) scale(1); }
            10% { transform: translate(-1px, -1px) scale(1.001); }
            20% { transform: translate(-2px, 0px) scale(0.999); }
            30% { transform: translate(1px, -1px) scale(1.001); }
            40% { transform: translate(1px, 1px) scale(1.002); }
            50% { transform: translate(-1px, 2px) scale(0.998); }
            60% { transform: translate(-2px, 1px) scale(1.001); }
            70% { transform: translate(2px, 1px) scale(0.999); }
            80% { transform: translate(-1px, -1px) scale(1.001); }
            90% { transform: translate(1px, 2px) scale(1.002); }
        }

        /* Add micro-interactions for better UX */
        .vhs-container * {
            transition: all 0.3s ease;
        }

        /* Smooth focus states */
        .control-btn:focus,
        .slider:focus,
        .effect-btn:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 255, 65, 0.3);
        }

        /* Enhanced transport controls grid */
        .transport-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .transport-controls:hover {
            background: rgba(0, 0, 0, 0.3);
            border-color: rgba(0, 255, 65, 0.1);
        }

        /* Animation for tape loading */
        @keyframes tapeLoad {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(0); }
            100% { transform: translateX(100%); }
        }

        .tape-loading {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, transparent 0%, #ff6b35 50%, transparent 100%);
            transform: translateY(-50%);
            animation: tapeLoad 2s ease-in-out;
        }

        /* Tape Library Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: 
                radial-gradient(circle at 30% 30%, rgba(255, 107, 53, 0.1), transparent),
                linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 50%, #1a1a1a 100%);
            border: 2px solid #ff6b35;
            border-radius: 20px;
            padding: 30px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 
                0 0 50px rgba(255, 107, 53, 0.6),
                inset 0 0 40px rgba(0, 0, 0, 0.8);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            color: #ff6b35;
            font-size: 2rem;
            text-shadow: 0 0 10px #ff6b35;
        }

        .close-modal {
            background: transparent;
            border: none;
            color: #00ff41;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            transform: scale(1.2);
            color: #ff6b35;
        }

        .tapes-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .tape-item {
            background: 
                linear-gradient(135deg, #333 0%, #444 50%, #333 100%),
                radial-gradient(circle at center, rgba(0, 255, 65, 0.05), transparent);
            border: 2px solid #00ff41;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .tape-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 255, 65, 0.3);
            border-color: #ff6b35;
        }

        .tape-item.active {
            border-color: #ff6b35;
            background: 
                linear-gradient(135deg, #ff6b35 0%, #ff8c35 50%, #ff6b35 100%),
                radial-gradient(circle at center, rgba(0, 255, 65, 0.1), transparent);
        }

        .tape-thumbnail {
            width: 100%;
            height: 100px;
            background: 
                radial-gradient(circle at center, rgba(255, 255, 255, 0.05), transparent),
                linear-gradient(45deg, #001122 0%, #002244 50%, #001122 100%);
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #00ff41;
            font-size: 1.2rem;
            text-shadow: 0 0 5px #00ff41;
        }

        .tape-title {
            color: #00ff41;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .tape-duration {
            color: #ff6b35;
            font-size: 0.8rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .video-section {
                grid-template-columns: 1fr;
            }
            
            .title {
                font-size: 2.5rem;
            }
            
            .transport-controls {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .status-bar {
                flex-direction: column;
                gap: 10px;
            }
            
            .tapes-container {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
        }

        /* Canvas for video display */
        .video-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
        }

        /* Recording indicator */
        .rec-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ff4444;
            color: #fff;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            z-index: 20;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Save tape button */
        .save-tape-btn {
            background: linear-gradient(135deg, #00ff41 0%, #00cc33 50%, #00ff41 100%);
            border: none;
            border-radius: 6px;
            color: #000;
            padding: 10px 15px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .save-tape-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 255, 65, 0.4);
        }

        /* Tape eject button */
        .tape-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .tape-btn {
            background: linear-gradient(135deg, #444 0%, #666 50%, #444 100%);
            border: 2px solid #00ff41;
            border-radius: 8px;
            color: #00ff41;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            flex: 1;
            margin: 0 5px;
            text-align: center;
        }

        .tape-btn:hover {
            background: linear-gradient(135deg, #555 0%, #777 50%, #555 100%);
            transform: translateY(-2px);
        }

        /* Tape label */
        .tape-label {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0, 0, 0, 0.6);
            color: #ff6b35;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9rem;
            z-index: 20;
        }
    </style>
</head>
<body>
    <div class="scanlines"></div>
    
    <div class="vhs-container">
        <!-- Header -->
        <header class="header">
            <h1 class="title">RETROVISION PRO</h1>
            <p class="subtitle">Advanced VHS Simulation System</p>
        </header>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-item">
                <div class="led" id="powerLed"></div>
                <span>POWER</span>
            </div>
            <div class="status-item">
                <div class="led red" id="recordLed"></div>
                <span>REC</span>
            </div>
            <div class="status-item">
                <span>TRACKING: AUTO</span>
            </div>
            <div class="status-item">
                <span id="currentTime">12:34:56</span>
            </div>
        </div>

        <!-- Tape Controls -->
        <div class="tape-controls">
            <button class="tape-btn" id="ejectBtn">‚èè EJECT TAPE</button>
            <button class="tape-btn" id="libraryBtn">üìº TAPE LIBRARY</button>
        </div>

        <!-- Main Video Section -->
        <div class="video-section">
            <div class="video-container">
                <div class="video-screen" id="videoScreen">
                    <div class="video-noise"></div>
                    <div class="glitch-overlay" id="glitchOverlay"></div>
                    <canvas class="video-canvas" id="videoCanvas"></canvas>
                    <div class="video-content" id="videoContent">
                        <div style="font-family: 'Orbitron', monospace; font-size: 2rem; margin-bottom: 20px;">
                            ‚ñ∂ INSERT TAPE AND PRESS PLAY
                        </div>
                        <div>Select a tape from the library</div>
                    </div>
                    <div class="tape-label" id="tapeLabel">No Tape Inserted</div>
                </div>
            </div>

            <!-- Controls Panel -->
            <div class="controls-panel">
                <div class="controls-section">
                    <div class="controls-title">Transport Controls</div>
                    <div class="transport-controls">
                        <button class="control-btn" id="playBtn">‚ñ∂ PLAY</button>
                        <button class="control-btn" id="pauseBtn">‚è∏ PAUSE</button>
                        <button class="control-btn" id="stopBtn">‚èπ STOP</button>
                        <button class="control-btn" id="rewindBtn">‚è™ REW</button>
                        <button class="control-btn" id="ffBtn">‚è© FF</button>
                        <button class="control-btn" id="recordBtn">‚è∫ REC</button>
                    </div>
                </div>

                <div class="controls-section">
                    <div class="controls-title">Channel</div>
                    <div class="channel-display" id="channelDisplay">CH 03</div>
                    <input type="range" class="slider" id="channelSlider" min="1" max="99" value="3">
                </div>

                <div class="controls-section">
                    <div class="controls-title">Video Settings</div>
                    <div class="slider-group">
                        <label class="slider-label">Tracking</label>
                        <input type="range" class="slider" id="trackingSlider" min="0" max="100" value="50">
                    </div>
                    <div class="slider-group">
                        <label class="slider-label">Contrast</label>
                        <input type="range" class="slider" id="contrastSlider" min="50" max="150" value="100">
                    </div>
                    <div class="slider-group">
                        <label class="slider-label">Color</label>
                        <input type="range" class="slider" id="colorSlider" min="0" max="200" value="100">
                    </div>
                    <div class="slider-group">
                        <label class="slider-label">Noise Level</label>
                        <input type="range" class="slider" id="noiseSlider" min="0" max="100" value="30">
                    </div>
                </div>

                <div class="controls-section">
                    <div class="controls-title">Effects</div>
                    <div class="effects-grid">
                        <button class="effect-btn" id="staticBtn">Static</button>
                        <button class="effect-btn" id="glitchBtn">Glitch</button>
                        <button class="effect-btn" id="vhsBtn">VHS Blur</button>
                        <button class="effect-btn" id="colorBtn">Color Shift</button>
                        <button class="effect-btn" id="wobbleBtn">Wobble</button>
                        <button class="effect-btn" id="bleedBtn">Color Bleed</button>
                    </div>
                </div>
                
                <button class="save-tape-btn" id="saveTapeBtn">üíæ SAVE CURRENT TAPE</button>
            </div>
        </div>

        <!-- Timeline -->
        <div class="timeline">
            <div class="timeline-display">
                <span>00:00:00</span>
                <span id="timeDisplay">TAPE POSITION</span>
                <span id="maxTimeDisplay">02:15:30</span>
            </div>
            <div class="progress-bar" id="progressBar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>¬© 2025 RetroVision Systems | Professional VHS Simulation Technology</p>
            <p>Advanced Features: Tape Library ‚Ä¢ Recording ‚Ä¢ Real-time Effects ‚Ä¢ Export</p>
        </footer>
    </div>

    <!-- Tape Library Modal -->
    <div class="modal-overlay" id="libraryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">TAPE LIBRARY</h2>
                <button class="close-modal" id="closeModal">‚úï</button>
            </div>
            <div class="tapes-container" id="tapesContainer">
                <!-- Tapes will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        class VHSSimulator {
            constructor() {
                this.isPlaying = false;
                this.isPaused = false;
                this.isRecording = false;
                this.currentTime = 0;
                this.maxTime = 8130; // 2h 15m 30s in seconds
                this.playbackSpeed = 1;
                this.channel = 3;
                this.currentTape = null;
                this.tapes = [];
                this.effects = {
                    static: false,
                    glitch: false,
                    vhsBlur: false,
                    colorShift: false,
                    wobble: false,
                    colorBleed: false
                };
                this.noiseLevel = 30;
                this.canvas = document.getElementById('videoCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.animationFrame = null;
                
                this.initializeElements();
                this.setupEventListeners();
                this.startClock();
                this.initializeTapes();
                this.resizeCanvas();
                window.addEventListener('resize', () => this.resizeCanvas());
            }

            initializeElements() {
                this.videoScreen = document.getElementById('videoScreen');
                this.videoContent = document.getElementById('videoContent');
                this.glitchOverlay = document.getElementById('glitchOverlay');
                this.channelDisplay = document.getElementById('channelDisplay');
                this.timeDisplay = document.getElementById('timeDisplay');
                this.maxTimeDisplay = document.getElementById('maxTimeDisplay');
                this.progressFill = document.getElementById('progressFill');
                this.progressBar = document.getElementById('progressBar');
                this.powerLed = document.getElementById('powerLed');
                this.recordLed = document.getElementById('recordLed');
                this.tapeLabel = document.getElementById('tapeLabel');
                
                // Control buttons
                this.playBtn = document.getElementById('playBtn');
                this.pauseBtn = document.getElementById('pauseBtn');
                this.stopBtn = document.getElementById('stopBtn');
                this.rewindBtn = document.getElementById('rewindBtn');
                this.ffBtn = document.getElementById('ffBtn');
                this.recordBtn = document.getElementById('recordBtn');
                this.ejectBtn = document.getElementById('ejectBtn');
                this.libraryBtn = document.getElementById('libraryBtn');
                this.saveTapeBtn = document.getElementById('saveTapeBtn');
                
                // Sliders
                this.channelSlider = document.getElementById('channelSlider');
                this.trackingSlider = document.getElementById('trackingSlider');
                this.contrastSlider = document.getElementById('contrastSlider');
                this.colorSlider = document.getElementById('colorSlider');
                this.noiseSlider = document.getElementById('noiseSlider');
                
                // Effect buttons
                this.staticBtn = document.getElementById('staticBtn');
                this.glitchBtn = document.getElementById('glitchBtn');
                this.vhsBtn = document.getElementById('vhsBtn');
                this.colorBtn = document.getElementById('colorBtn');
                this.wobbleBtn = document.getElementById('wobbleBtn');
                this.bleedBtn = document.getElementById('bleedBtn');
                
                // Modal elements
                this.libraryModal = document.getElementById('libraryModal');
                this.closeModal = document.getElementById('closeModal');
                this.tapesContainer = document.getElementById('tapesContainer');
            }

            resizeCanvas() {
                this.canvas.width = this.videoScreen.offsetWidth;
                this.canvas.height = this.videoScreen.offsetHeight;
            }

            initializeTapes() {
                this.tapes = [
                    {
                        id: 'tape1',
                        title: 'Retro Tech Demo',
                        duration: '01:30:00',
                        maxTime: 5400,
                        thumbnail: 'TECH',
                        content: 'tech'
                    },
                    {
                        id: 'tape2',
                        title: '80s Music Video',
                        duration: '00:45:00',
                        maxTime: 2700,
                        thumbnail: 'MUSIC',
                        content: 'music'
                    },
                    {
                        id: 'tape3',
                        title: 'Sci-Fi Movie',
                        duration: '02:15:00',
                        maxTime: 8100,
                        thumbnail: 'MOVIE',
                        content: 'movie'
                    },
                    {
                        id: 'tape4',
                        title: 'Home Recording',
                        duration: '01:00:00',
                        maxTime: 3600,
                        thumbnail: 'HOME',
                        content: 'home'
                    },
                    {
                        id: 'tape5',
                        title: 'Video Game Play',
                        duration: '00:30:00',
                        maxTime: 1800,
                        thumbnail: 'GAME',
                        content: 'game'
                    },
                    {
                        id: 'tape6',
                        title: 'News Broadcast',
                        duration: '00:20:00',
                        maxTime: 1200,
                        thumbnail: 'NEWS',
                        content: 'news'
                    }
                ];
                
                this.renderTapeLibrary();
            }

            renderTapeLibrary() {
                this.tapesContainer.innerHTML = '';
                this.tapes.forEach(tape => {
                    const tapeEl = document.createElement('div');
                    tapeEl.className = 'tape-item';
                    if (this.currentTape && this.currentTape.id === tape.id) {
                        tapeEl.classList.add('active');
                    }
                    tapeEl.dataset.id = tape.id;
                    tapeEl.innerHTML = `
                        <div class="tape-thumbnail">${tape.thumbnail}</div>
                        <div class="tape-title">${tape.title}</div>
                        <div class="tape-duration">${tape.duration}</div>
                    `;
                    tapeEl.addEventListener('click', () => this.loadTape(tape));
                    this.tapesContainer.appendChild(tapeEl);
                });
            }

            loadTape(tape) {
                this.currentTape = tape;
                this.maxTime = tape.maxTime;
                this.currentTime = 0;
                this.tapeLabel.textContent = tape.title;
                this.maxTimeDisplay.textContent = this.formatTime(tape.maxTime);
                this.updateProgress();
                this.closeLibrary();
                
                if (this.isPlaying) {
                    this.showTapeContent();
                }
            }

            ejectTape() {
                this.currentTape = null;
                this.currentTime = 0;
                this.tapeLabel.textContent = 'No Tape Inserted';
                this.stop();
                this.updateProgress();
            }

            setupEventListeners() {
                // Transport controls
                this.playBtn.addEventListener('click', () => this.play());
                this.pauseBtn.addEventListener('click', () => this.pause());
                this.stopBtn.addEventListener('click', () => this.stop());
                this.rewindBtn.addEventListener('click', () => this.rewind());
                this.ffBtn.addEventListener('click', () => this.fastForward());
                this.recordBtn.addEventListener('click', () => this.record());
                this.ejectBtn.addEventListener('click', () => this.ejectTape());
                this.libraryBtn.addEventListener('click', () => this.openLibrary());
                this.saveTapeBtn.addEventListener('click', () => this.saveTape());

                // Sliders
                this.channelSlider.addEventListener('input', (e) => this.changeChannel(e.target.value));
                this.trackingSlider.addEventListener('input', (e) => this.adjustTracking(e.target.value));
                this.contrastSlider.addEventListener('input', (e) => this.adjustContrast(e.target.value));
                this.colorSlider.addEventListener('input', (e) => this.adjustColor(e.target.value));
                this.noiseSlider.addEventListener('input', (e) => this.adjustNoise(e.target.value));

                // Effects
                this.staticBtn.addEventListener('click', () => this.toggleEffect('static'));
                this.glitchBtn.addEventListener('click', () => this.toggleEffect('glitch'));
                this.vhsBtn.addEventListener('click', () => this.toggleEffect('vhsBlur'));
                this.colorBtn.addEventListener('click', () => this.toggleEffect('colorShift'));
                this.wobbleBtn.addEventListener('click', () => this.toggleEffect('wobble'));
                this.bleedBtn.addEventListener('click', () => this.toggleEffect('colorBleed'));

                // Modal
                this.closeModal.addEventListener('click', () => this.closeLibrary());
                this.libraryModal.addEventListener('click', (e) => {
                    if (e.target === this.libraryModal) this.closeLibrary();
                });

                // Timeline
                this.progressBar.addEventListener('click', (e) => {
                    if (!this.currentTape) return;
                    const rect = this.progressBar.getBoundingClientRect();
                    const pos = (e.clientX - rect.left) / rect.width;
                    this.currentTime = Math.floor(pos * this.maxTime);
                    this.updateProgress();
                    if (this.isPlaying && !this.isPaused) {
                        this.showTapeContent();
                    }
                });
            }

            startClock() {
                setInterval(() => {
                    const now = new Date();
                    this.currentTimeElement.textContent = 
                        `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
                }, 1000);
            }

            play() {
                if (!this.currentTape) {
                    this.openLibrary();
                    return;
                }
                
                if (!this.isPlaying) {
                    this.isPlaying = true;
                    this.isPaused = false;
                    this.playBtn.classList.add('active');
                    this.pauseBtn.classList.remove('active');
                    this.stopBtn.classList.remove('active');
                    
                    this.showTapeContent();
                    this.startProgressUpdate();
                }
            }

            pause() {
                if (this.isPlaying) {
                    this.isPaused = !this.isPaused;
                    this.pauseBtn.classList.toggle('active');
                    
                    if (this.isPaused) {
                        cancelAnimationFrame(this.animationFrame);
                        this.videoContent.innerHTML = `
                            <div style="font-family: 'Orbitron', monospace; font-size: 2rem; color: #ff6b35;">
                                ‚è∏ PAUSED
                            </div>
                            <div>${this.currentTape.title} - ${this.formatTime(this.currentTime)}</div>
                        `;
                    } else {
                        this.showTapeContent();
                    }
                }
            }

            stop() {
                this.isPlaying = false;
                this.isPaused = false;
                this.playbackSpeed = 1;
                
                cancelAnimationFrame(this.animationFrame);
                
                this.playBtn.classList.remove('active');
                this.pauseBtn.classList.remove('active');
                this.stopBtn.classList.add('active');
                this.rewindBtn.classList.remove('active');
                this.ffBtn.classList.remove('active');
                
                this.videoContent.innerHTML = `
                    <div style="font-family: 'Orbitron', monospace; font-size: 2rem;">
                        ‚èπ STOPPED
                    </div>
                    <div>${this.currentTape ? this.currentTape.title : 'Insert Tape and Select Channel'}</div>
                `;
                
                this.updateProgress();
                
                setTimeout(() => {
                    this.stopBtn.classList.remove('active');
                }, 1000);
            }

            rewind() {
                if (!this.currentTape) return;
                
                this.playbackSpeed = -3;
                this.rewindBtn.classList.add('active');
                this.ffBtn.classList.remove('active');
                
                if (!this.isPlaying) {
                    this.isPlaying = true;
                    this.startProgressUpdate();
                }
            }

            fastForward() {
                if (!this.currentTape) return;
                
                this.playbackSpeed = 3;
                this.ffBtn.classList.add('active');
                this.rewindBtn.classList.remove('active');
                
                if (!this.isPlaying) {
                    this.isPlaying = true;
                    this.startProgressUpdate();
                }
            }

            record() {
                if (!this.currentTape) {
                    this.openLibrary();
                    return;
                }
                
                this.isRecording = !this.isRecording;
                this.recordBtn.classList.toggle('active');
                this.recordLed.style.background = this.isRecording ? '#ff4444' : '#00ff41';
            }

            startProgressUpdate() {
                cancelAnimationFrame(this.animationFrame);
                
                const update = () => {
                    if (this.isPlaying && !this.isPaused) {
                        this.currentTime += this.playbackSpeed;
                        
                        if (this.currentTime < 0) {
                            this.currentTime = 0;
                            this.playbackSpeed = 1;
                            this.rewindBtn.classList.remove('active');
                            this.pause();
                        }
                        
                        if (this.currentTime > this.maxTime) {
                            this.currentTime = this.maxTime;
                            this.playbackSpeed = 1;
                            this.ffBtn.classList.remove('active');
                            this.pause();
                        }
                        
                        this.updateProgress();
                        this.showTapeContent();
                    }
                    
                    this.animationFrame = requestAnimationFrame(update);
                };
                
                update();
            }

            updateProgress() {
                const percent = this.currentTime / this.maxTime * 100;
                this.progressFill.style.width = `${percent}%`;
                this.timeDisplay.textContent = this.formatTime(this.currentTime);
            }

            formatTime(seconds) {
                const hrs = Math.floor(seconds / 3600);
                const mins = Math.floor((seconds % 3600) / 60);
                const secs = Math.floor(seconds % 60);
                return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            }

            showTapeContent() {
                if (!this.currentTape) return;
                
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                
                // Draw the tape content
                this.drawTapeContent();
                
                // Apply VHS effects
                this.applyEffects();
            }

            drawTapeContent() {
                const ctx = this.ctx;
                const width = this.canvas.width;
                const height = this.canvas.height;
                
                // Draw background based on tape type
                switch(this.currentTape.content) {
                    case 'tech':
                        this.drawTechDemo(width, height);
                        break;
                    case 'music':
                        this.drawMusicVideo(width, height);
                        break;
                    case 'movie':
                        this.drawMovieScene(width, height);
                        break;
                    case 'home':
                        this.drawHomeVideo(width, height);
                        break;
                    case 'game':
                        this.drawGamePlay(width, height);
                        break;
                    case 'news':
                        this.drawNewsBroadcast(width, height);
                        break;
                }
                
                // Draw timestamp
                ctx.fillStyle = '#00ff41';
                ctx.font = '16px "Share Tech Mono", monospace';
                ctx.textAlign = 'right';
                ctx.fillText(this.formatTime(this.currentTime), width - 20, height - 20);
                
                // Draw channel info
                ctx.textAlign = 'left';
                ctx.fillText(`CH ${this.channel.toString().padStart(2, '0')}`, 20, height - 20);
                
                if (this.isRecording) {
                    ctx.fillStyle = '#ff4444';
                    ctx.font = 'bold 18px "Share Tech Mono", monospace';
                    ctx.textAlign = 'center';
                    ctx.fillText('‚óè REC', width / 2, 30);
                }
            }

            drawTechDemo(width, height) {
                const ctx = this.ctx;
                const time = this.currentTime;
                
                // Draw gradient background
                const gradient = ctx.createLinearGradient(0, 0, width, height);
                gradient.addColorStop(0, '#003366');
                gradient.addColorStop(1, '#0066cc');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, width, height);
                
                // Draw moving shapes
                ctx.fillStyle = '#00ff41';
                ctx.beginPath();
                ctx.arc(
                    width/2 + Math.sin(time/10) * 100, 
                    height/2 + Math.cos(time/8) * 80, 
                    50 + Math.sin(time/5) * 20, 
                    0, 
                    Math.PI * 2
                );
                ctx.fill();
                
                ctx.fillStyle = '#ff6b35';
                ctx.beginPath();
                ctx.arc(
                    width/3 + Math.cos(time/7) * 120, 
                    height/3 + Math.sin(time/6) * 90, 
                    40 + Math.cos(time/4) * 15, 
                    0, 
                    Math.PI * 2
                );
                ctx.fill();
                
                // Draw grid
                ctx.strokeStyle = 'rgba(0, 255, 65, 0.3)';
                ctx.lineWidth = 1;
                for (let x = 0; x < width; x += 30) {
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, height);
                    ctx.stroke();
                }
                for (let y = 0; y < height; y += 30) {
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(width, y);
                    ctx.stroke();
                }
                
                // Draw text
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 24px "Orbitron", sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('RETRO TECH DEMO', width/2, 60);
                ctx.font = '16px "Share Tech Mono", monospace';
                ctx.fillText('VHS SIMULATION SYSTEM', width/2, 90);
            }

            drawMusicVideo(width, height) {
                const ctx = this.ctx;
                const time = this.currentTime;
                
                // Draw background
                ctx.fillStyle = '#000000';
                ctx.fillRect(0, 0, width, height);
                
                // Draw disco floor
                for (let y = 0; y < height; y += 20) {
                    for (let x = 0; x < width; x += 20) {
                        const hue = (x + y + time * 10) % 360;
                        ctx.fillStyle = `hsl(${hue}, 80%, 50%)`;
                        ctx.fillRect(x, y, 18, 18);
                    }
                }
                
                // Draw dancing figure
                ctx.fillStyle = '#ffffff';
                const centerX = width/2;
                const centerY = height/2 + Math.sin(time/3) * 30;
                
                // Head
                ctx.beginPath();
                ctx.arc(centerX, centerY - 40, 20, 0, Math.PI * 2);
                ctx.fill();
                
                // Body
                ctx.beginPath();
                ctx.moveTo(centerX, centerY - 20);
                ctx.lineTo(centerX, centerY + 20);
                ctx.stroke();
                
                // Arms
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(centerX + Math.sin(time) * 40, centerY - Math.cos(time) * 20);
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(centerX - Math.sin(time) * 40, centerY - Math.cos(time) * 20);
                ctx.stroke();
                
                // Legs
                ctx.beginPath();
                ctx.moveTo(centerX, centerY + 20);
                ctx.lineTo(centerX + Math.cos(time) * 30, centerY + 50);
                ctx.moveTo(centerX, centerY + 20);
                ctx.lineTo(centerX - Math.cos(time) * 30, centerY + 50);
                ctx.stroke();
                
                // Draw title
                ctx.fillStyle = '#ff6b35';
                ctx.font = 'bold 28px "Orbitron", sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('80s MUSIC VIDEO', width/2, 50);
            }

            drawMovieScene(width, height) {
                const ctx = this.ctx;
                const time = this.currentTime;
                
                // Draw space background
                ctx.fillStyle = '#000033';
                ctx.fillRect(0, 0, width, height);
                
                // Draw stars
                ctx.fillStyle = '#ffffff';
                for (let i = 0; i < 100; i++) {
                    const x = (i * 37) % width;
                    const y = (i * 73) % height;
                    const size = Math.sin((time + i) / 10) * 2 + 2;
                    ctx.beginPath();
                    ctx.arc(x, y, size, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // Draw spaceship
                ctx.fillStyle = '#cccccc';
                const shipX = width/2;
                const shipY = height/2 + Math.sin(time/2) * 20;
                
                // Main body
                ctx.beginPath();
                ctx.moveTo(shipX, shipY - 50);
                ctx.lineTo(shipX - 40, shipY + 30);
                ctx.lineTo(shipX + 40, shipY + 30);
                ctx.closePath();
                ctx.fill();
                
                // Cockpit
                ctx.fillStyle = '#00aaff';
                ctx.beginPath();
                ctx.arc(shipX, shipY - 15, 15, 0, Math.PI * 2);
                ctx.fill();
                
                // Engines
                ctx.fillStyle = '#ff6b35';
                ctx.beginPath();
                ctx.arc(shipX - 20, shipY + 30, 8, 0, Math.PI * 2);
                ctx.arc(shipX + 20, shipY + 30, 8, 0, Math.PI * 2);
                ctx.fill();
                
                // Engine flames
                ctx.strokeStyle = '#ffaa00';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(shipX - 20, shipY + 38);
                ctx.lineTo(shipX - 20 - Math.sin(time) * 5, shipY + 50);
                ctx.moveTo(shipX + 20, shipY + 38);
                ctx.lineTo(shipX + 20 + Math.sin(time) * 5, shipY + 50);
                ctx.stroke();
                
                // Draw title
                ctx.fillStyle = '#00ff41';
                ctx.font = 'bold 24px "Orbitron", sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('SPACE ADVENTURE', width/2, 50);
            }

            drawHomeVideo(width, height) {
                const ctx = this.ctx;
                const time = this.currentTime;
                
                // Draw background
                ctx.fillStyle = '#336633';
                ctx.fillRect(0, 0, width, height);
                
                // Draw ground
                ctx.fillStyle = '#663300';
                ctx.fillRect(0, height - 100, width, 100);
                
                // Draw sun
                ctx.fillStyle = '#ffcc00';
                ctx.beginPath();
                ctx.arc(width - 50, 50, 30, 0, Math.PI * 2);
                ctx.fill();
                
                // Draw house
                ctx.fillStyle = '#cc6666';
                ctx.fillRect(width/2 - 60, height - 180, 120, 120);
                
                // Draw roof
                ctx.fillStyle = '#663333';
                ctx.beginPath();
                ctx.moveTo(width/2 - 70, height - 180);
                ctx.lineTo(width/2 + 70, height - 180);
                ctx.lineTo(width/2, height - 230);
                ctx.closePath();
                ctx.fill();
                
                // Draw door
                ctx.fillStyle = '#663300';
                ctx.fillRect(width/2 - 15, height - 130, 30, 60);
                
                // Draw person
                const personX = width/2 + Math.sin(time/5) * 100;
                const personY = height - 140;
                
                // Head
                ctx.fillStyle = '#ffcc99';
                ctx.beginPath();
                ctx.arc(personX, personY - 20, 15, 0, Math.PI * 2);
                ctx.fill();
                
                // Body
                ctx.strokeStyle = '#0000ff';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(personX, personY - 5);
                ctx.lineTo(personX, personY + 30);
                ctx.stroke();
                
                // Arms
                ctx.beginPath();
                ctx.moveTo(personX, personY);
                ctx.lineTo(personX + 20, personY + 10);
                ctx.moveTo(personX, personY);
                ctx.lineTo(personX - 20, personY + 10);
                ctx.stroke();
                
                // Legs
                ctx.beginPath();
                ctx.moveTo(personX, personY + 30);
                ctx.lineTo(personX + 15, personY + 50);
                ctx.moveTo(personX, personY + 30);
                ctx.lineTo(personX - 15, personY + 50);
                ctx.stroke();
                
                // Draw title
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 24px "Orbitron", sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('HOME VIDEO', width/2, 50);
            }

            applyEffects() {
                const width = this.canvas.width;
                const height = this.canvas.height;
                const imageData = this.ctx.getImageData(0, 0, width, height);
                const data = imageData.data;
                
                // Apply VHS noise
                if (this.noiseLevel > 0) {
                    const noiseIntensity = this.noiseLevel / 100 * 50;
                    for (let i = 0; i < data.length; i += 4) {
                        const noise = Math.random() * noiseIntensity;
                        data[i] = Math.min(255, data[i] + noise); // R
                        data[i + 1] = Math.min(255, data[i + 1] + noise); // G
                        data[i + 2] = Math.min(255, data[i + 2] + noise); // B
                    }
                }
                
                // Apply color bleed effect
                if (this.effects.colorBleed) {
                    const bleedAmount = 2;
                    for (let y = 0; y < height; y++) {
                        for (let x = 0; x < width - bleedAmount; x++) {
                            const idx = (y * width + x) * 4;
                            const bleedIdx = (y * width + x + bleedAmount) * 4;
                            
                            // Copy red channel with offset
                            data[bleedIdx] = Math.min(255, data[idx] * 0.7 + data[bleedIdx] * 0.3);
                        }
                    }
                }
                
                // Apply static effect
                if (this.effects.static) {
                    for (let i = 0; i < data.length; i += 4) {
                        if (Math.random() > 0.8) {
                            const intensity = Math.random() * 200;
                            data[i] = intensity; // R
                            data[i + 1] = intensity; // G
                            data[i + 2] = intensity; // B
                        }
                    }
                }
                
                this.ctx.putImageData(imageData, 0, 0);
                
                // Apply glitch effect (CSS)
                this.glitchOverlay.style.opacity = this.effects.glitch ? '0.4' : '0';
                
                // Apply VHS blur (CSS)
                this.videoScreen.style.filter = this.effects.vhsBlur ? 'blur(1px)' : '';
                
                // Apply color shift (CSS)
                this.videoScreen.style.filter += this.effects.colorShift ? 'hue-rotate(20deg)' : '';
            }

            changeChannel(value) {
                this.channel = parseInt(value);
                this.channelDisplay.textContent = `CH ${this.channel.toString().padStart(2, '0')}`;
                
                // Simulate channel static during change
                this.glitchOverlay.style.opacity = '0.8';
                setTimeout(() => {
                    this.glitchOverlay.style.opacity = '0';
                    if (this.isPlaying && !this.isPaused) {
                        this.showTapeContent();
                    }
                }, 300);
            }

            adjustTracking(value) {
                const tracking = parseInt(value);
                const distortion = Math.abs(50 - tracking) / 50;
                
                this.videoScreen.style.filter = `blur(${distortion * 2}px) contrast(${100 - distortion * 30}%)`;
                
                if (distortion > 0.3) {
                    this.glitchOverlay.style.opacity = '0.3';
                } else {
                    this.glitchOverlay.style.opacity = '0';
                }
            }

            adjustContrast(value) {
                const contrast = parseInt(value);
                this.videoScreen.style.filter = (this.videoScreen.style.filter || '') + ` contrast(${contrast}%)`;
            }

            adjustColor(value) {
                const saturation = parseInt(value);
                this.videoScreen.style.filter = (this.videoScreen.style.filter || '') + ` saturate(${saturation}%)`;
            }
            
            adjustNoise(value) {
                this.noiseLevel = parseInt(value);
            }

            toggleEffect(effect) {
                this.effects[effect] = !this.effects[effect];
                const button = document.getElementById(`${effect}Btn`);
                button.classList.toggle('active');
                
                if (this.isPlaying && !this.isPaused) {
                    this.showTapeContent();
                }
            }

            openLibrary() {
                this.libraryModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            closeLibrary() {
                this.libraryModal.classList.remove('active');
                document.body.style.overflow = '';
            }

            saveTape() {
                if (!this.currentTape) {
                    alert('Please insert a tape first!');
                    return;
                }
                
                if (!this.isRecording) {
                    alert('Please start recording before saving!');
                    return;
                }
                
                // Simulate saving
                this.videoContent.innerHTML = `
                    <div style="font-family: 'Orbitron', monospace; font-size: 2rem; color: #00ff41;">
                        üíæ SAVING TAPE...
                    </div>
                `;
                
                setTimeout(() => {
                    this.videoContent.innerHTML = `
                        <div style="font-family: 'Orbitron', monospace; font-size: 2rem; color: #00ff41;">
                            ‚úÖ TAPE SAVED!
                        </div>
                        <div>${this.currentTape.title} - ${this.formatTime(this.currentTime)}</div>
                    `;
                    
                    setTimeout(() => {
                        if (this.isPlaying && !this.isPaused) {
                            this.showTapeContent();
                        }
                    }, 2000);
                }, 1500);
            }
        }

        // Initialize the simulator when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            const simulator = new VHSSimulator();
            simulator.powerLed.style.background = '#00ff41';
            simulator.recordLed.style.background = '#00ff41';
        });
    </script>
</body>
</html>